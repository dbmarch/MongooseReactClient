(this.webpackJsonpmongooseclient=this.webpackJsonpmongooseclient||[]).push([[0],{147:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(27),o=n.n(r),l=n(19),u=n(21),s=(n(94),n(66)),i=n(67),m=n(84),p=n(69),E=n(83),f=(n(95),n(57)),d=n(30),b=n(36),h=function(e){return function(t){return{type:e,payload:t}}},v=(h("SET_AUTH_ERROR"),h("SET_AUTHORIZED")),g=(h("LOGIN_USER"),h("LOGOUT_USER")),O=h("GET_SIGNED_IN_USER"),j=(h("SET_AUTHENTICATED_USER"),function(e){return e.auth.isAuthenticated}),w=function(e){return e.auth.getAuthenticatedUser},k=n(70),S=n.n(k),y=Object(u.b)((function(e){return{isAuthenticated:j(e),authenticatedUser:w(e)}}),(function(e){return{getSignedInUser:function(){return e(O(null))},logout:function(){return e(g(null))}}}))((function(e){var t=e.isAuthenticated,n=e.authenticatedUser,a=e.logout;return c.a.createElement(f.a,{style:{backgroundColor:"#e0e0e0"},variant:"light",expand:"lg",fixed:"top",sticky:"top"},c.a.createElement(f.a.Brand,null,"BRAND"),c.a.createElement(d.a.Link,{as:l.b,to:"/",eventKey:"1"},"Home"," "),c.a.createElement(d.a.Link,{as:l.b,to:"/websocket",eventKey:"1"},"WebSocket"," "),!t&&c.a.createElement(d.a.Link,{as:l.b,to:"/login",eventKey:"4",className:"ml-auto mr-4"},"Sign-In"),t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{id:"nav-account",title:S()(n,"username","---"),className:"ml-auto mr-4",alignRight:!0},c.a.createElement(b.a.Item,{as:"div",eventKey:"4.1"},c.a.createElement(d.a.Link,{as:l.b,to:"/account"},"Manage Account")),c.a.createElement(b.a.Divider,null),c.a.createElement(b.a.Item,{as:"div",eventKey:"4.2",onClick:a},c.a.createElement(d.a.Link,{as:l.b,to:"/"},"Logout")))))})),U=n(23),x=n(9),R=n.n(x),T=n(150),_=n(151),A=n(152),N=n(79),I=n(153),L=Object(u.b)((function(e){return{}}),(function(e){return{}}))((function(){return Object(a.useEffect)((function(){!function(){var e,t;R.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,R.a.awrap(fetch("".concat(W,"/json/"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 2:return e=n.sent,n.next=5,R.a.awrap(e.json());case 5:t=n.sent,console.info(t.items);case 7:case"end":return n.stop()}}))}()}),[]),c.a.createElement("div",{className:"page"},c.a.createElement(T.a,{className:"home-page-frame"},c.a.createElement(T.a,{className:"home-page-top"},c.a.createElement(_.a,null,c.a.createElement(A.a,{className:"button-tray"},c.a.createElement(N.a,{variant:"outline-primary"},"JSON"),c.a.createElement(N.a,{variant:"outline-success"},"Hello"))),c.a.createElement(_.a,null,c.a.createElement(I.a,null,c.a.createElement("p",null,"Response:")),c.a.createElement(I.a,{xs:9},c.a.createElement("p",null,"Hello")))),c.a.createElement(T.a,{className:"home-page-bottom"},c.a.createElement(_.a,null,c.a.createElement(I.a,null,"1 of 2"),c.a.createElement(I.a,{xs:9},"2 of 2")))))})),C=n(35),H=n(48),G=n(80),D=n.n(G),M=function(e){var t=e.lines;return c.a.createElement("div",{style:{paddingTop:"".concat(t,"rem")}})},K=function(){var e,t=Object(a.useMemo)((function(){return{share:!0,onOpen:function(){return console.log("opened")},shouldReconnect:function(e){return!0},reconnectAttempts:10,reconnectInterval:3e3}}),[]),n=Object(a.useState)("ws://localhost:8000"),r=Object(H.a)(n,2),o=r[0],l=r[1],u=Object(a.useState)([]),s=Object(H.a)(u,2),i=s[0],m=s[1],p=D()(o,t),E=Object(H.a)(p,4),f=E[0],d=E[1],b=E[2],h=E[3],v=Object(a.useCallback)((function(){l("ws://localhost:8000"===o?"wss://localhost:8000":"ws://localhost:8000")}),[o]),g=Object(a.useCallback)((function(){return f("Hello")}),[f]);Object(a.useEffect)((function(){if(null!==d){var e=h().url;console.log("received a message from ",e),m((function(e){return e.concat(d)}))}}),[d,h]);var O=(e={},Object(C.a)(e,0,"Connecting"),Object(C.a)(e,1,"Open"),Object(C.a)(e,2,"Closing"),Object(C.a)(e,3,"Closed"),e)[b];return c.a.createElement("div",null,c.a.createElement("button",{onClick:v},o),c.a.createElement(M,{lines:2}),c.a.createElement("button",{onClick:g,disabled:1!==b},"Click Me to send 'Hello'"),c.a.createElement(M,{lines:2}),c.a.createElement("span",null,"Websocket Status: ",O),c.a.createElement(M,{lines:2}),d&&c.a.createElement("span",null,"Last message: ",d.data),c.a.createElement(M,{lines:2}),c.a.createElement("ul",null,i.map((function(e,t){return c.a.createElement("li",{key:t},e.data)}))))},W="http://localhost:8000",B=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(y,null),c.a.createElement("div",{className:"page"},c.a.createElement(U.c,null,c.a.createElement(U.a,{exact:!0,path:"/",component:L}),c.a.createElement(U.a,{path:"/login",component:L}),c.a.createElement(U.a,{path:"/websocket",component:K}),c.a.createElement(U.a,{component:L}))))}}]),t}(a.Component),J=Object(U.f)(Object(u.b)((function(e){return{isAuthenticated:j(e)}}),null)(B));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=n(15),Z=n(81),$=n(82),q=n(18),z=R.a.mark(X),P=R.a.mark(Y),Q=R.a.mark(ee),V=R.a.mark(te);function X(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("doLoginUser"),e.next=3,Object(q.b)(v(!0));case 3:case"end":return e.stop()}}),z)}function Y(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("doLogout"),e.prev=1,e.next=4,Object(q.b)(v(!1));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.info(e.t0);case 9:case"end":return e.stop()}}),P,null,[[1,6]])}function ee(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("Saga-loginUser"),e.next=3,Object(q.d)("LOGIN_USER",X);case 3:case"end":return e.stop()}}),Q)}function te(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.info("Saga-getSignedInUser"),e.next=3,Object(q.d)("LOGOUT_USER",Y);case 3:case"end":return e.stop()}}),V)}var ne=R.a.mark(ae);function ae(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(q.a)(ee);case 2:return e.next=4,Object(q.a)(te);case 4:case"end":return e.stop()}}),ne)}var ce=Object(F.combineReducers)({authError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"SET_AUTH_ERROR":return t.payload;default:return e}},isAuthenticated:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"LOGIN_USER":case"LOGOUT_USER":return!1;case"SET_AUTHORIZED":return t.payload;default:return e}}}),re=Object(F.combineReducers)({auth:ce}),oe=Object($.a)(),le=[oe,function(e){return function(t){return function(n){console.log("[Middleware] Dispatching ",n);var a=t(n);return console.log("[Middleware] next state ",e.getState()),a}}}],ue=Object(F.createStore)(re,Object(Z.composeWithDevTools)(F.applyMiddleware.apply(void 0,le)));oe.run(ae);var se=c.a.createElement(u.a,{store:ue},c.a.createElement(l.a,null,c.a.createElement(J,null)));o.a.render(se,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},85:function(e,t,n){e.exports=n(147)},94:function(e,t,n){},95:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.7b76b5c3.chunk.js.map